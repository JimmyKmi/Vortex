# VORTÃ‹X å¼€å‘æŒ‡å—

[English](DEVELOPMENT_en.md) | ç®€ä½“ä¸­æ–‡

> ğŸ“ è¯¥æ–‡æ¡£ç”± LLM ç”Ÿæˆï¼Œå¦‚æœ‰çº°æ¼è¯·æ [Issue](https://github.com/JimmyKmi/vortex/issues)

æœ¬æ–‡æ¡£æä¾› VORTÃ‹X é¡¹ç›®çš„å¼€å‘ç¯å¢ƒé…ç½®ã€æµ‹è¯•å’Œè´¡çŒ®æµç¨‹è¯´æ˜ã€‚

## å¼€å‘ç¯å¢ƒè®¾ç½®

### å‰ç½®æ¡ä»¶

- Node.js 20+
- npm 9+
- Git
- åŸºæœ¬çš„ Next.js å’Œ React çŸ¥è¯†

### ç¯å¢ƒå‡†å¤‡

1. **å…‹éš†ä»£ç ä»“åº“**:
   ```bash
   git clone https://github.com/JimmyKmi/vortex.git
   cd vortex
   ```

2. **å®‰è£…ä¾èµ–**:
   ```bash
   # ä½¿ç”¨ --legacy-peer-deps è§£å†³ä¾èµ–å…¼å®¹æ€§é—®é¢˜
   npm install --legacy-peer-deps
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**:
   ```bash
   # å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
   cp .env.example .env.local
   
   # ç¼–è¾‘ .env.local é…ç½®å¼€å‘ç¯å¢ƒå‚æ•°
   ```

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**:
   ```bash
   npm run dev
   ```
   å¼€å‘æœåŠ¡å™¨å°†åœ¨ http://localhost:3000 å¯åŠ¨ã€‚

## é¡¹ç›®ç»“æ„

VORTÃ‹X é¡¹ç›®é‡‡ç”¨ Next.js App Router æ¶æ„ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```
vortex/
â”œâ”€â”€ app/                 # Next.js åº”ç”¨ç›®å½•
â”‚   â”œâ”€â”€ api/             # API è·¯ç”±
â”‚   â”œâ”€â”€ (auth)/          # èº«ä»½éªŒè¯ç›¸å…³é¡µé¢
â”‚   â”œâ”€â”€ dashboard/       # ç®¡ç†é¢æ¿é¡µé¢
â”‚   â””â”€â”€ ...              # å…¶ä»–é¡µé¢å’Œç»„ä»¶
â”œâ”€â”€ components/          # å…±äº«ç»„ä»¶
â”œâ”€â”€ contexts/            # React ä¸Šä¸‹æ–‡
â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰ React Hooks
â”œâ”€â”€ lib/                 # å·¥å…·å‡½æ•°å’ŒæœåŠ¡
â”‚   â”œâ”€â”€ config/          # åº”ç”¨é…ç½®
â”‚   â””â”€â”€ ...              # å…¶ä»–å·¥å…·åº“
â”œâ”€â”€ prisma/              # Prisma ORM æ¨¡å‹å’Œè¿ç§»
â”œâ”€â”€ public/              # é™æ€èµ„æº
â”œâ”€â”€ styles/              # å…¨å±€æ ·å¼
â””â”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
```

## ä»£ç è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ ESLint å’Œ Prettier è¿›è¡Œä»£ç é£æ ¼ç®¡ç†ï¼š

```bash
# è¿è¡Œä»£ç æ£€æŸ¥
npm run check-lint

# æ ¼å¼åŒ–ä»£ç 
npm run format

# æ£€æŸ¥ä»£ç æ ¼å¼
npm run check-prettier
```

## æµ‹è¯•

é¡¹ç›®ä½¿ç”¨ Jest å’Œ React Testing Library è¿›è¡Œæµ‹è¯•ï¼š

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run check-jest

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
npm run check-jest -- --coverage
```

### æµ‹è¯•è§„èŒƒ

1. ç»„ä»¶æµ‹è¯•åº”æ”¾åœ¨é è¿‘ç»„ä»¶çš„ `__tests__` ç›®å½•ä¸­
2. API ç«¯ç‚¹æµ‹è¯•åº”æ”¾åœ¨ç›¸åº”çš„ API è·¯ç”±ç›®å½•ä¸­
3. å•å…ƒæµ‹è¯•æ–‡ä»¶åº”ä½¿ç”¨ `.test.ts` æˆ– `.test.tsx` åç¼€
4. é›†æˆæµ‹è¯•æ–‡ä»¶åº”ä½¿ç”¨ `.spec.ts` æˆ– `.spec.tsx` åç¼€

## æ•°æ®åº“è¿ç§»

é¡¹ç›®ä½¿ç”¨ Prisma ORM ç®¡ç†æ•°æ®åº“æ¨¡å‹å’Œè¿ç§»ï¼š

```bash
# ç”Ÿæˆè¿ç§»
npx prisma migrate dev --name <migration-name>

# åº”ç”¨è¿ç§»
npx prisma migrate deploy

# æŸ¥çœ‹æ•°æ®åº“
npx prisma studio
```

## æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# æœ¬åœ°æµ‹è¯•ç”Ÿäº§ç‰ˆæœ¬
npm start
```

## CI/CD æµç¨‹

é¡¹ç›®ä½¿ç”¨ GitHub Actions è¿›è¡ŒæŒç»­é›†æˆå’Œéƒ¨ç½²ï¼š

1. **ä»£ç è´¨é‡æ£€æŸ¥**:
   - ESLint ä»£ç æ£€æŸ¥
   - Prettier æ ¼å¼æ£€æŸ¥
   - ä¾èµ–å®‰å…¨æ£€æŸ¥
   - è‡ªåŠ¨åŒ–æµ‹è¯•

2. **Docker é•œåƒæ„å»º**:
   - å½“å‘å¸ƒæ–°ç‰ˆæœ¬ï¼ˆæ ‡ç­¾ï¼‰æ—¶ï¼Œè‡ªåŠ¨æ„å»ºå¹¶æ¨é€ Docker é•œåƒ
   - æ ¹æ®ç‰ˆæœ¬å·æ ‡ç­¾å†³å®šæ˜¯æ¨é€åˆ° `latest` è¿˜æ˜¯ `dogfood` æ ‡ç­¾

### CI/CD æµç¨‹å›¾

```
ä»£ç æäº¤ --> ä»£ç è´¨é‡æ£€æŸ¥ --> æµ‹è¯• --> æ„å»º
     \                                  \
      \--> (åˆ›å»ºå‘å¸ƒæ ‡ç­¾) --------------> Dockeré•œåƒæ„å»º --> æ¨é€é•œåƒ
```

## è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

1. Fork ä»“åº“å¹¶å…‹éš†åˆ°æœ¬åœ°
2. åˆ›å»ºæ–°åˆ†æ”¯ï¼š`git checkout -b feature/your-feature-name`
3. å¼€å‘å¹¶æµ‹è¯•æ‚¨çš„åŠŸèƒ½
4. ç¡®ä¿ä»£ç é€šè¿‡æ‰€æœ‰æ£€æŸ¥
5. æäº¤å˜æ›´ï¼š`git commit -m 'feat: add some feature'`
6. æ¨é€åˆ°æ‚¨çš„ Forkï¼š`git push origin feature/your-feature-name`
7. åˆ›å»º Pull Request

### åˆ†æ”¯ç­–ç•¥

- `main`: ä¸»åˆ†æ”¯ï¼ŒåŒ…å«ç¨³å®šä»£ç 
- `dev`: å¼€å‘åˆ†æ”¯ï¼ŒåŒ…å«æœ€æ–°åŠŸèƒ½
- `feature/*`: åŠŸèƒ½åˆ†æ”¯ï¼Œç”¨äºå¼€å‘æ–°åŠŸèƒ½
- `fix/*`: ä¿®å¤åˆ†æ”¯ï¼Œç”¨äºä¿®å¤ bug
- `docs/*`: æ–‡æ¡£åˆ†æ”¯ï¼Œç”¨äºæ›´æ–°æ–‡æ¡£

### æäº¤æ¶ˆæ¯è§„èŒƒ

é¡¹ç›®ä½¿ç”¨è¯­ä¹‰åŒ–æäº¤æ¶ˆæ¯ï¼š

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç é£æ ¼æ›´æ”¹ï¼ˆæ ¼å¼åŒ–ï¼‰
- `refactor`: ä»£ç é‡æ„
- `test`: æ·»åŠ æµ‹è¯•
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å˜åŠ¨

ä¾‹å¦‚ï¼š
```
feat: æ·»åŠ æ–‡ä»¶æœ‰æ•ˆæœŸè®¾ç½®åŠŸèƒ½
fix: ä¿®å¤å¤§æ–‡ä»¶ä¸Šä¼ å´©æºƒé—®é¢˜
docs: æ›´æ–° API æ–‡æ¡£
```

### Pull Request æµç¨‹

1. PR æ ‡é¢˜åº”ä½¿ç”¨è¯­ä¹‰åŒ–æäº¤æ¶ˆæ¯æ ¼å¼
2. PR æè¿°åº”è¯¦ç»†è¯´æ˜å˜æ›´å†…å®¹å’ŒåŸå› 
3. PR åº”è¯¥åŒ…å«é€‚å½“çš„æµ‹è¯•ç”¨ä¾‹
4. PR å°†ç»è¿‡ä»£ç è¯„å®¡ååˆå¹¶åˆ°ä¸»åˆ†æ”¯ 